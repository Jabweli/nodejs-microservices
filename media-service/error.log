{"kind":"ObjectId","level":"error","message":"Error occured while deleting media Cast to ObjectId failed for value \"dnyr09qhtmnabo9whjmc\" (type string) at path \"_id\" for model \"Media\"","path":"_id","reason":{},"service":"media-service","stack":"CastError: Cast to ObjectId failed for value \"dnyr09qhtmnabo9whjmc\" (type string) at path \"_id\" for model \"Media\"\n    at SchemaObjectId.cast (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1634:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1630:14)\n    at SchemaType.castForQuery (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1669:20)\n    at cast (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\cast.js:367:39)\n    at Query.cast (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\query.js:2351:10)","stringValue":"\"dnyr09qhtmnabo9whjmc\"","timestamp":"2025-05-30T06:55:34.814Z","value":"dnyr09qhtmnabo9whjmc","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error occured while deleting media Cast to ObjectId failed for value \"dnyr09qhtmnabo9whjmc\" (type string) at path \"_id\" for model \"Media\"","path":"_id","reason":{},"service":"media-service","stack":"CastError: Cast to ObjectId failed for value \"dnyr09qhtmnabo9whjmc\" (type string) at path \"_id\" for model \"Media\"\n    at SchemaObjectId.cast (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1634:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1630:14)\n    at SchemaType.castForQuery (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1669:20)\n    at cast (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\cast.js:367:39)\n    at Query.cast (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\query.js:2351:10)","stringValue":"\"dnyr09qhtmnabo9whjmc\"","timestamp":"2025-05-30T07:05:31.716Z","value":"dnyr09qhtmnabo9whjmc","valueType":"string"}
{"level":"error","message":"Error occured while deleting media mediaToDelete is not iterable","service":"media-service","stack":"TypeError: mediaToDelete is not iterable\n    at handlePostDeleted (file:///D:/Node%20JS%20Projects/social-media-microservices/media-service/src/utils/event-handlers.js:11:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-30T07:08:34.502Z"}
{"level":"error","message":"Error occured while deleting media Media.findMany is not a function","service":"media-service","stack":"TypeError: Media.findMany is not a function\n    at handlePostDeleted (file:///D:/Node%20JS%20Projects/social-media-microservices/media-service/src/utils/event-handlers.js:9:39)\n    at file:///D:/Node%20JS%20Projects/social-media-microservices/media-service/src/utils/rabbitmq.js:48:7\n    at Channel.dispatchMessage (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\channel.js:489:14)\n    at Channel.handleDelivery (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\channel.js:498:17)\n    at Channel.emit (node:events:518:28)\n    at D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\channel.js:395:10\n    at Channel.content [as handleMessage] (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\channel.js:448:9)\n    at Channel.acceptMessageFrame (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\channel.js:232:33)\n    at Channel.accept (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\channel.js:302:19)\n    at Connection.mainAccept [as accept] (D:\\Node JS Projects\\social-media-microservices\\media-service\\node_modules\\amqplib\\lib\\connection.js:579:33)","timestamp":"2025-05-30T07:10:10.089Z"}
{"level":"error","message":"Error occured while deleting media deleteMediaFromCloudinary is not defined","service":"media-service","stack":"ReferenceError: deleteMediaFromCloudinary is not defined\n    at handlePostDeleted (file:///D:/Node%20JS%20Projects/social-media-microservices/media-service/src/utils/event-handlers.js:12:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-30T07:12:08.680Z"}
